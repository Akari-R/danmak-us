<?php
class Bilibili2GroupConfig extends GroupConfigBase
{

	public function __construct()
	{
		parent::GroupConfigBase();
		$this->SUID = 'B';
		$this->XMLFolderPath = './uploads/Bilibili2';
		$this->DanmakuBarSet = new DanmakuBarSet();
		$this->VideoSourceSet = $GLOBALS['VideoSourceSet'];
		$this->PlayersSet = $GLOBALS['PlayerSet'];
	}
	
	public function GenerateFlashVarArr(VideoData $source)
	{
		$AFVArray = array();
	    switch (strtoupper($source->sourcetype->getType()))
	    {
	        case "NOR":
	            $AFVArray['vid'] = $source->dmid;
	        break;
	        
			case "QQ":
			case "TD":
			case "6CN":
			case "URL":
			case "BURL":
			case "LINK":
			case "BLINK":
			case "LOCAL":
				$AFVArray['id'] = $source->dmid;
				$AFVArray['file'] = $source->sourcetype->source;
	        break;
	        
			case "YK":
				$AFVArray['ykid'] = $source->dmid;
	        break;
	        
			default:
				echo "$source->sourcetype->getType(): $source->dmid : $source->sourcetype->source";
				assert(false);
	        break;
	    }
		return $AFVArray;
	}

}